local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- 캐릭터 확인
if not LocalPlayer.Character then return end
local character = LocalPlayer.Character
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

for _, player in pairs(Players:GetPlayers()) do
    if player ~= LocalPlayer and player.Character then
        local targetRoot = player.Character:FindFirstChild("HumanoidRootPart")
        if targetRoot then
            -- 캐릭터 이동
            humanoidRootPart.CFrame = targetRoot.CFrame * CFrame.new(0, 0, 2)
            wait(0.1)
            
            local knife = character:FindFirstChild("Knife")
            if knife then
                local server = knife:FindFirstChild("Server")
                if server then
                    local knifeDraw = server:FindFirstChild("KnifeDraw")
                    if knifeDraw then
                        knifeDraw:FireServer(targetRoot.Position)
                    end
                end
            end
        end
    end
end
