local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- 캐릭터 확인
if not LocalPlayer.Character then return end
local character = LocalPlayer.Character
local humanoid = character:WaitForChild("Humanoid")

-- 각 플레이어 처치
for _, player in pairs(Players:GetPlayers()) do
    if player ~= LocalPlayer and player.Character then
        local targetHumanoid = player.Character:FindFirstChild("Humanoid")
        if targetHumanoid and targetHumanoid.Health > 0 then
            humanoid:MoveTo(player.Character.HumanoidRootPart.Position)
            wait(0.1)
            
            local knife = character:FindFirstChild("Knife")
            if knife then
                local server = knife:FindFirstChild("Server")
                if server then
                    local knifeDraw = server:FindFirstChild("KnifeDraw")
                    if knifeDraw then
                        knifeDraw:FireServer(player.Character.HumanoidRootPart.Position)
                    end
                end
            end
        end
    end
end
